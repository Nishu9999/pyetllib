# Writing documentation for `pyetllib` ETL Framework

--- 

## Authoring doc, the present
Currently, project documentation is generated by `mkdocs` from 
static Markdown files located in the `docs` directory of the project.
All these files have been largely written by hand. With the current 
framework (namely `mkdocs`), we must keep on doing so. 

Which is a real pain...

## Authoring doc, the future
Therefore, we plan to switch to using `sphinx` with all the cool 
automation features this framework provides. 
Mainly, we wish to be able to extract directly 
the API Reference from the Python `docstrings`
and build the whole documentation automatically using `tox`. 
A few pages will still be modified by hand but that's no big deal 
because we do not plan to change the way `pyetllib` works. 
So, our concern is mainly about new API modules and ETL plugins that are
the areas where contributors will be the more active.

## The structure of documentation site
The structure has been fixed and should not change in the future. It is 
outlined below along with the corresponding navigation sections:
```
docs
|
│   index.md  --> Home
|
├───apiref    --> API Reference
|
├───cliref    --> CLI Reference
|
├───devguide  --> Developer Guide
|
└───usrguide  --> User Guide

```

## What you can do
As a contributor to this project, you can modify the existing 
documentation or write new documentation pieces.

In case you add functions, classes or whatever to an existing module or
package, you ought to document your code. The best way so far to do it
is to write some `docstrings` in plain text and to extract them using 
`pdoc3` that you can install with `pip` in the virtual environment of
your project. 

Let's say you have just finished to work on package named `foo`, you
woud use `pdoc` this way:
```
$ pdoc --output-dir build foo
```

The Markdown files generated by `pdoc` are far from perfect but they 
are a good start. Rename them, copy them and connect them to the rest
of the documentation in the `mkdocs.yml` file at the project root 
directory.

Once it's done, you can start fiddling your doc using the interactive
web server of `mkdocs`. To do this, use the command `tox -e doc-devel`: 
The output should resemble this:
```
INFO    -  Building documentation...
INFO    -  Cleaning site directory
[I 200122 14:38:06 server:296] Serving on http://127.0.0.1:8000
```

Open the URL `http://127.0.0.1:8000` in your favorite browser and you're
good to go, start modify the Markdown source files and you'll see the 
changes in the HTML pages in your browser.

## Don't forget to `git` your changes
*Documentation is code and code is documentation* and as such, you need 
to add to the GIT repository any `*.md` file you've created or modified 
in the `docs` folder.



